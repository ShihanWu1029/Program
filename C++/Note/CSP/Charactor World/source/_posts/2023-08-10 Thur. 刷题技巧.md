---
title: 刷题技巧
time: 2023-08-10 15:33:33
tags: 笔记
categories: C++
---

- Author：吴诗翰
- Time：2023-8-10
- Agency： 字符世界
## C++刷题常见Bug

### 1.数据下标越界

定义`int a[10];`却访问`a[11]`，发生越界。

Tips：定义数组时应考虑数据范围。

### 2.数据没有初始化

### 3.输出格式错误

给定两个输出样例

1.

```
1 2 3 4
```
2.

```
1 2 3 4 
```

有什么区别呢？

在第二个测试样例里面多了一个空格。

固然在一些判题比较宽松的Online Judge上会自动把你输出的空格与换行删除，但是如果遇见一个比较严格的OJ，一个空格就会决定你的对错。

解决方法：注意题目的输出格式，在测试时将空格替换为一个指定字符（如*）。

### 【Vector 容器】

- 头文件： #include \<vector\>
- 特征： 动态的，通常大小不确定
- 函数 
    
    - .push_back()： 在尾部插入
    - .size()： 获取实时长度
    - 。。。

详见[Vector用法详解-w3school]("https://www.w3cschool.cn/cpp/cpp-i6da2pq0.html")

## WA怎么办？

### 1.逻辑思维错误

从读题开始就错了，但是恰好通过了测试用例。

### 2.思路正确，答案错误

有一个正确的思路，但是在构建代码（例如算法，模拟过程）。

解决方法： 在出错的大致位置输出变量，观察变化规律。

### 3.例题： 大小写转换

**题目描述**

给定一个字符串，将其中的大写字母转换成小写，小写转换成大写。

输入样例：
```
We love C++!
```

**错误示范**
```cpp
int main() {
    string s;
    getline(cin,s);
    for(int i=0;i<s.size();i++){
        if(islower(s[i])) s[i]-=32;
        if(isupper(s[i])) s[i]+=32;
    }
    cout<<s;
}
```
如果用上面所给的代码，会发现只有大写变成了小写，儿小写没有变成大写。

问题出在：
```cpp
if(islower(s[i])) s[i]-=32;
if(isupper(s[i])) s[i]+=32;
```
两个if函数并列使用但是没有else，因此在小写变成大写之后又被变回了小写。

应改为：
```cpp
if(islower(s[i])) s[i]-=32;
else if(isupper(s[i])) s[i]+=32;
```

## 时空复杂度

定义：一个可执行文件在时间和空间上的效率

**数据结构和算法要解决的问题就是让代码运行更快。**

一般来说，我们会以**空间换时间**

### 时间复杂度的分析

表达的是**一种趋势**，而非绝对意义上的时间。

分析时间复杂度时，我们会忽略**输入与输出所耗费的时间**与**常数和系数**。

如果一段代码只有常数级时间复杂度，则写为O(1)。

#### 举例

如图是一个求1~N的累加和

```cpp
int function(int n){
    int sum=0;
    for(int i=0;i<=n;i++){
        sum+=i;
    }
    return sum;
}
```

这一段代码的时间复杂度应该如何去分析呢？

首先我们易知3，4行代码会执行n次，然后包含有for的执行条件与sum的累加，因此算为2n。然后又有int语句与return，因此时间复杂度为O(2+2n)。

但是我们要忽略**常数和系数**，因此最终答案为O(n)。

#### 常见时间复杂度

- O(1)：常数级
- O(log n)：对数级
- O(n)：线性级
- O(n log n)：线性对数级
- O(n^2)：平方级
- O(n^3)：立方级
- O(2^n)：指数级
- O(n!)：阶乘级

### 空间复杂度的分析

空间复杂度是对一个算法在**运行过程中临时占用储存空间大小的量度**。

空间复杂度不是指程序本身占用的空间，而是指诸如数组之类变量所占的空间。

#### 例题

```cpp
vector<int> function(int n){
    vector<int> v;
    for(int i=1;i<=n;i++){
        v.push_back(i);
    }
    return v;
}
```

如上我们在函数内定义了一个vector容器，然后往里面push了n个值，因此该函数的空间复杂度为O(n)。

由此可以归纳**分析空间复杂度时应考虑一个变量或容器在运行时所占的最大空间**。

#### 递归的时间复杂度分析

```cpp
int fun(int n){
    if(n==1)return 1;
    return fun(n-1)+n;
}
```

由于C++在递归过程中会调用栈内存，因此我们也需要考虑空间复杂度。

如上是一个简单的递归，每一次都会向函数本身请求fun(n-1)直到n=1，因此调用了n次栈，故空间复杂度为O(n)。