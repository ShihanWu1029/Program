# 图论

## 欧拉图

[例题](https://www.luogu.com.cn/problem/U230284 "铲雪车")

### 定义

欧拉路：如果一张图中的一个路径包含每个边恰好一次，则称该路径为欧拉路。

欧拉回路：即，从同一个点出发与结束的欧拉路称为欧拉回路。

### 性质

- 对于无向连通图：

    - 欧拉图：有且仅有两个点的度数为奇数（称为奇点）的无向图才存在欧拉路。特别的，这两个奇点分别为欧拉路的起点与终点。

    - 欧拉回路： 只用不存在奇点的无向图存在欧拉回路。

- 对于有向连通图：

    - 欧拉图： 当且仅当存在一个点的出度-入度=1，与另一个点的入度-出度=1，并且其他任意点的出度与入度相等时存在欧拉路，并且这两个特殊点分别为起点与终点。

    - 欧拉回路： 只有当所有点的入度都等于出度时才存在欧拉回路。

## 二分图

区别二分图，关键在于图中的点是否能够分为两个独立的点集。

换句话说，如果一张图存在着一种方法能够将图中的点分为两个集合，每一个集合中的点互相不连通，两个点集之间有若干条边连接的图。

## 树的直径

### 定义

给定一棵树，树中每条边都有一个权值，树中两点之间的距离定义为连接两点的路径边权之和。树中**两个最远的节点之间的距离**称为树的直径。

### 性质

- 直径的两个端点一定是叶子节点。

- 距离任意点最远的一点一定是直径的一个端点。

- 对于两棵树，他们的直径分别为$(u_1,v_1),(u_2,v_2)$，那么将这两颗树合并之后，新的树的直径的两个端点一定是这4个点中的两个。

- 对于一棵树，如果在一个点上接一个叶子节点，那么最多只会改变直径的一个端点。

- 若一棵树存在多条直径，那么这些直径必定交于一点且该交点为这些直径的终点。

### 求法

#### DFS 深度优先搜索

从任意节点出发，DFS找到距离这个节点最远的节点，再从这个最远的节点出发，找到距离这个点最远的节点，这两个找到的点即为直径的两个端点。

#### 树形DP

`dp[i]`：以节点i为根的子树中，通过节点i的最长路径长度

对于每一个节点，求得最深叶子节点与次深叶子节点的深度，分别为`max_deep[i]`，`sec_max_deep[i]`。

状态转移方程：

```cpp
dp[i]=max_deep[i] + sec_max_deep[i]
max_deep[i]=max(max_deep[j] | j为i的子节点) + 1
```

答案：
```cpp
ans = max(dp[0],dp[1]...,dp[n]);
``` 

## 树的重心，中心 

重心：对于n个节点的无根树，找到一个点，使得把树变成该点为根树时，最大子树的节点数最小。即删除这个点后最大联通快的节点数最小，那么这个点就是树的重心。

中心： 以树的中心为整棵树的根时，从该根到每个叶子节点的最长路径最短。 树的中心一定在直径上，且最多有两个。

## 欧拉序

跟DFS遍历相差无几。

### 第一种欧拉序

第一种欧拉序相当于是在dfs的时候，如果储存节点的栈发生变化一次，就把栈顶的节点编号记录下来。

也就是说，每当访问往一个节点的子树，就返回一次该节点，然后继续搜索其余的子树。

